<my-spinner [isRunning]="!isSpouseDataLoaded"></my-spinner>
<form [formGroup]="spouseForm">
    <div class="row">

        <div class="col-md-4 d-flex flex-column">
            <div class="card">
                <div class="card-header">
                    Spouse Info
                </div>
                <div class="card-block">

                    <div class="form-group">
                        <label for="SpouseName">Spouse Name</label>
                        <input formControlName="SpouseName" maxlength="30" class="form-control" />
                    </div>

                    <div class="form-group">
                        <label for="SpouseHomePhone">Spouse Home phone</label>
                        <input formControlName="SpouseHomePhone" digits maxlength="14" class="form-control" />
                            <small *ngIf="spouseForm.controls.SpouseHomePhone.dirty && spouseForm.controls.SpouseHomePhone.invalid" class="mat-text-warn">Please provide a valid Phone</small>
                    </div>

                    <div class="form-group">
                        <label for="SpouseMobilePhone">Spouse Mobile phone</label>
                        <input formControlName="SpouseMobilePhone" digits maxlength="14" class="form-control" />
                            <small *ngIf="spouseForm.controls.SpouseMobilePhone.dirty && spouseForm.controls.SpouseMobilePhone.invalid" class="mat-text-warn">Please provide a valid Mobile</small>
                    </div>

                    <div class="form-group">
                        <label for="SpouseOccupation">Spouse Occupation</label>
                        <input formControlName="SpouseOccupation" maxlength="30" class="form-control" />
                    </div>

                    <div class="form-group">
                        <label for="SpouseEducationLookupId">Spouse Education</label>
                        <ng-select [options]="spouseEducationLookupIdLookupOptionsList"
                                   placeholder="Select"
                                   formControlName="SpouseEducationLookupId"
                                   [allowClear]="true">
                        </ng-select>
                    </div>

                    <div class="form-group">
                        <button class="btn btn-primary" [disabled]="!spouseForm.valid" (click)="onUpdateSpouse()">Update</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4 d-flex flex-column">
            <div class="card">
                <div class="card-header">
                    Spouse Address
                </div>
                <div class="card-block">
                    <div class="form-group">
                        <label for="SpouseAddress">Spouse's full address</label>
                        <textarea type="text" formControlName="SpouseAddress" class="form-control" maxlength="300"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="Area">Area</label>
                        <input formControlName="Area" maxlength="50" class="form-control" />
                    </div>

                    <div class="form-group">
                        <label for="StateLookupId">State</label>
                        <ng-select [options]="spouseStateOptionsList"
                                   placeholder="Select State"
                                   formControlName="StateLookupId"
                                   (selected)="onSpouseStateSelected($event)"
                                   (deselected)="onSpouseStateDeselected()"
                                   [allowClear]="true">
                        </ng-select>
                    </div>

                    <div class="form-group">
                        <label for="CityLookupId">City</label>
                        <ng-select [options]="spouseCityOptionsList"
                                   placeholder="Select"
                                   formControlName="CityLookupId"
                                   [allowClear]="true">
                        </ng-select>
                    </div>

                    <div class="form-group">
                        <label for="PIN">PIN</label>
                        <input formControlName="PIN" digits maxlength="6" class="form-control" />
                            <small *ngIf="spouseForm.controls.PIN.dirty && spouseForm.controls.PIN.invalid" class="mat-text-warn">Please provide a valid PIN</small>
                    </div>

                </div>

            </div>


        </div>

        <div class="col-md-4 d-flex flex-column">
            <div class="card">
                <div class="card-header">
                    Emergency
                </div>
                <div class="card-block">
                    <div class="form-group">
                        <label for="PrimaryEmergencyContactName">Primary Emergency Contact Name</label>
                        <input formControlName="PrimaryEmergencyContactName" class="form-control" />
                    </div>

                    <div class="form-group">
                        <label for="PrimaryEmergencyRelationshipToClientLookupId">Relationship to client</label>
                        <ng-select [options]="emergencyRelationshipOptionsList"
                                   placeholder="Select"
                                   formControlName="PrimaryEmergencyRelationshipToClientLookupId"
                                   [allowClear]="true">
                        </ng-select>
                    </div>

                    <div class="form-group">
                        <label for="PrimaryEmergencyContactPhoneNumber">Phone number</label>
                        <input formControlName="PrimaryEmergencyContactPhoneNumber" digits maxlength="14" class="form-control" />
                            <small *ngIf="spouseForm.controls.PrimaryEmergencyContactPhoneNumber.dirty && spouseForm.controls.PrimaryEmergencyContactPhoneNumber.invalid" class="mat-text-warn">Please provide a valid Phone number</small>
                    </div>

                    <div class="form-group">
                        <label for="PrimaryEmergencyContactAdress">Address</label>
                        <input formControlName="PrimaryEmergencyContactAdress" class="form-control" />
                    </div>

                    <div class="form-group">
                        <label for="SecondaryEmergencyContactName">Secondary Emergency Contact Name</label>
                        <input formControlName="SecondaryEmergencyContactName" class="form-control" />
                    </div>

                    <div class="form-group">
                        <label for="SecondaryEmergencyRelationshipToClientLookupId">Relationship to client</label>
                        <ng-select [options]="emergencyRelationshipOptionsList"
                                   placeholder="Select"
                                   formControlName="SecondaryEmergencyRelationshipToClientLookupId"
                                   [allowClear]="true">
                        </ng-select>
                    </div>

                    <div class="form-group">
                        <label for="SecondaryEmergencyContactPhoneNumber">Phone number</label>
                        <input formControlName="SecondaryEmergencyContactPhoneNumber" digits maxlength="14" class="form-control" />
                            <small *ngIf="spouseForm.controls.SecondaryEmergencyContactPhoneNumber.dirty && spouseForm.controls.SecondaryEmergencyContactPhoneNumber.invalid" class="mat-text-warn">Please provide a valid Phone number</small>
                    </div>

                    <div class="form-group">
                        <label for="PrimaryEmergencyContactAdress">Address</label>
                        <input formControlName="PrimaryEmergencyContactAdress" class="form-control" />
                    </div>

                </div>
            </div>
        </div>
    </div>
</form>