<div class="row" style="justify-content: center">
    <div class="col-md-6">
        <form [formGroup]="mainForm" *ngIf="isMainDataLoaded">
            <div class="centered">
                <div class="form-group">
                    <label for="CaseStatusId" style="color: white">Case Status *</label>
                    <ng-select [options]="caseStatusOptionList" placeholder="Select Case Status" formControlName="CaseStatusId" [allowClear]="true" (selected)="changeStatus()">
                    </ng-select>
                    <div>
                        <small *ngIf="mainForm.controls['CaseStatusId'].hasError('required') && mainForm.controls['CaseStatusId'].touched" class="mat-text-warn">Case Status is required.</small>
                    </div>
                </div>
            </div>
        </form>

        <form [formGroup]="referredForm" *ngIf="isReferred">
            <div class="centered">
                <div class="row">
                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-block primary-info-view">
                                <div class="form-group">
                                    <label for="CenterId">Referred to whom *</label>
                                    <input [formControl]="referredForm.controls['ReferredToWhom']" class="form-control" maxlength="2000" />
                                    <div>
                                        <small *ngIf="referredForm.controls['ReferredToWhom'].hasError('required') && referredForm.controls['ReferredToWhom'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>

        <form [formGroup]="unresolvedForm" *ngIf="isUnresolved">
            <div class="centered">
                <div class="row">
                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-block primary-info-view">
                                <div class="form-group">
                                    <label for="CenterId">Case resolution log *</label>
                                    <input [formControl]="unresolvedForm.controls['ResolutionLog']" class="form-control" maxlength="2000" />
                                    <div>
                                        <small *ngIf="unresolvedForm.controls['ResolutionLog'].hasError('required') && unresolvedForm.controls['ResolutionLog'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <form [formGroup]="closedForm" *ngIf="isCloseStatus">
            <div class="centered">
                <div class="row">
                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-block primary-info-view">
                                <div class="form-group">
                                    <label for="PeaceMakerId">Reason for selected Closure status *</label>
                                    <input [formControl]="closedForm.controls['ReasonForClosureStatus']" class="form-control" maxlength="2000" />
                                    <div>
                                        <small *ngIf="closedForm.controls['ReasonForClosureStatus'].hasError('required') && closedForm.controls['ReasonForClosureStatus'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>

        <form [formGroup]="category2Form" *ngIf="isCategory2">
            <div class="centered">
                <div class="row">
                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Case Management
                            </div>
                            <div class="card-block primary-info-view">

                                <div class="form-group">
                                    <label for="CaseSubject">Subject *</label>
                                    <input [formControl]="category2Form.controls['CaseSubject']" class="form-control" maxlength="2000" />
                                    <div>
                                        <small *ngIf="category2Form.controls['CaseSubject'].hasError('required') && category2Form.controls['CaseSubject'].touched" class="mat-text-warn">Case Status is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CaseDescription">Description *</label>
                                    <textarea [formControl]="category2Form.controls['CaseDescription']" class="form-control" maxlength="2000"></textarea>
                                    <div>
                                        <small *ngIf="category2Form.controls['CaseDescription'].hasError('required') && category2Form.controls['CaseDescription'].touched" class="mat-text-warn">Case Status is required.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Client & Household
                            </div>
                            <div class="card-block primary-info-view">
                                <div class="form-group">
                                    <label for="SoughtHelpYesNoLookupId">Have you sought help for your issues before coming to My Choices? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="SoughtHelpYesNoLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category2Form.controls['SoughtHelpYesNoLookupId'].hasError('required') && category2Form.controls['SoughtHelpYesNoLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">yes, specify</label>
                                    <input [formControl]="category2Form.controls['SoughtHelpDesc']" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">If yes, what was the outcome of that help?</label>
                                    <input [formControl]="category2Form.controls['SoughtHelpOutPut']" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">If you would like Operation Peacemaker to assist you with your current domestic violence situation, please select the services you would make use of *</label>
                                    <ss-multiselect-dropdown [options]="peacemakerAssistanceOptionsList" formControlName="PeacemakerAssistanceLookupId" [(ngModel)]="caseBook.FamilyHouseHold.PeacemakerAssistanceLookupArray">

                                    </ss-multiselect-dropdown>
                                    <div>
                                        <small *ngIf="category2Form.controls['PeacemakerAssistanceLookupId'].hasError('required') && category2Form.controls['PeacemakerAssistanceLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="CenterId">If other, please specify</label>
                                    <input [formControl]="category2Form.controls['PeacemakerAssistanceDesc']" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Would you like a Peacemaker to do follow up with you? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="PeacemakerFollowupYesNoLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category2Form.controls['PeacemakerFollowupYesNoLookupId'].hasError('required') && category2Form.controls['PeacemakerFollowupYesNoLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Did the client sign the registration form? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="ClientSignedRegistrationFormYesNoLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category2Form.controls['ClientSignedRegistrationFormYesNoLookupId'].hasError('required') && category2Form.controls['ClientSignedRegistrationFormYesNoLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Spouse
                            </div>
                            <div class="card-block primary-info-view">
                                <div class="form-group">
                                    <label for="PrimaryEmergencyContactName">Primary Emergency Contact Name *</label>
                                    <input [formControl]="category2Form.controls['PrimaryEmergencyContactName']" class="form-control" />
                                    <div>
                                        <small *ngIf="category2Form.controls['PrimaryEmergencyContactName'].hasError('required') && category2Form.controls['PrimaryEmergencyContactName'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Relationship to client *</label>
                                    <ng-select [options]="emergencyRelationshipOptionsList" placeholder="Select" formControlName="PrimaryEmergencyRelationshipToClientLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category2Form.controls['PrimaryEmergencyRelationshipToClientLookupId'].hasError('required') && category2Form.controls['PrimaryEmergencyRelationshipToClientLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Phone number *</label>
                                    <div class="form-group" [class.has-danger]="category2Form.controls['PrimaryEmergencyContactPhoneNumber'].invalid && category2Form.controls['PrimaryEmergencyContactPhoneNumber'].touched">
                                        <input [formControl]="category2Form.controls['PrimaryEmergencyContactPhoneNumber']" digits maxlength="14" class="form-control" />
                                        <div>
                                            <small *ngIf="category2Form.controls['PrimaryEmergencyContactPhoneNumber'].dirty && category2Form.controls['PrimaryEmergencyContactPhoneNumber'].invalid">Please provide a valid Phone number</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Physical Health
                            </div>
                            <div class="card-block primary-info-view">
                                <div class="form-group">
                                    <label for="CenterId">Are you suffering from any major illness? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="SufferingFromAnyMajorIllnessLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category2Form.controls['SufferingFromAnyMajorIllnessLookupId'].hasError('required') && category2Form.controls['SufferingFromAnyMajorIllnessLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">If yes, please specify</label>
                                    <input [formControl]="category2Form.controls['SufferingFromAnyMajorIllnessDesc']" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Do you have any diagnosed psychiatric illness? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="DiagnosedPsychiatricIllnessLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category2Form.controls['DiagnosedPsychiatricIllnessLookupId'].hasError('required') && category2Form.controls['DiagnosedPsychiatricIllnessLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">If yes, please specify </label>
                                    <input [formControl]="category2Form.controls['DiagnosedPsychiatricIllnessDesc']" class="form-control" />
                                </div>
                            </div>
                        </div>
                    </div>


                </div>

            </div>
            <div class="form-group text-center">
                <button class="btn btn-primary" [disabled]="!category2Form.valid || !mainForm.valid || (isClosed && !closedForm.valid) || (isUnresolved && !unresolvedForm.valid)" (click)="updateCategory2()">Update</button>
            </div>
        </form>

        <form [formGroup]="category3Form" *ngIf="isCategory3">
            <div class="centered">
                <div class="row">
                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Case Management
                            </div>
                            <div class="card-block primary-info-view">

                                <div class="form-group">
                                    <label for="CaseSubject">Subject *</label>
                                    <input [formControl]="category3Form.controls['CaseSubject']" class="form-control" maxlength="2000" />
                                    <div>
                                        <small *ngIf="category3Form.controls['CaseSubject'].hasError('required') && category3Form.controls['CaseSubject'].touched" class="mat-text-warn">Case Status is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CaseDescription">Description *</label>
                                    <textarea [formControl]="category3Form.controls['CaseDescription']" class="form-control" maxlength="2000"></textarea>
                                    <div>
                                        <small *ngIf="category3Form.controls['CaseDescription'].hasError('required') && category3Form.controls['CaseDescription'].touched" class="mat-text-warn">Case Status is required.</small>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Client & Household
                            </div>
                            <div class="card-block primary-info-view">
                                <div class="form-group">
                                    <label for="CenterId">Did the client sign the registration form? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="ClientSignedRegistrationFormYesNoLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category3Form.controls['ClientSignedRegistrationFormYesNoLookupId'].hasError('required') && category3Form.controls['ClientSignedRegistrationFormYesNoLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group text-center">
                    <button class="btn btn-primary" [disabled]="!mainForm.valid || !category3Form.valid || (isReferred && !referredForm.valid) || (isclosed && !closedForm.valid)" (click)="updateCategory3()">Update</button>
                </div>
            </div>
        </form>
        <form [formGroup]="category4Form" *ngIf="isCategory4">
            <div class="centered">
                <div class="row">

                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Client & Household
                            </div>
                            <div class="card-block primary-info-view">
                                <div class="form-group">
                                    <label for="SoughtHelpYesNoLookupId">Have you sought help for your issues before coming to My Choices? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="SoughtHelpYesNoLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category4Form.controls['SoughtHelpYesNoLookupId'].hasError('required') && category4Form.controls['SoughtHelpYesNoLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">yes, specify</label>
                                    <input [formControl]="category4Form.controls['SoughtHelpDesc']" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">If yes, what was the outcome of that help?</label>
                                    <input [formControl]="category4Form.controls['SoughtHelpOutPut']" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">If you would like Operation Peacemaker to assist you with your current domestic violence situation, please select the services you would make use of *</label>
                                    <ss-multiselect-dropdown [options]="peacemakerAssistanceOptionsList" formControlName="PeacemakerAssistanceLookupId" [(ngModel)]="caseBook.FamilyHouseHold.PeacemakerAssistanceLookupArray">

                                    </ss-multiselect-dropdown>
                                    <div>
                                        <small *ngIf="category4Form.controls['PeacemakerAssistanceLookupId'].hasError('required') && category4Form.controls['PeacemakerAssistanceLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="CenterId">If other, please specify</label>
                                    <input [formControl]="category4Form.controls['PeacemakerAssistanceDesc']" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Would you like a Peacemaker to do follow up with you? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="PeacemakerFollowupYesNoLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category4Form.controls['PeacemakerFollowupYesNoLookupId'].hasError('required') && category4Form.controls['PeacemakerFollowupYesNoLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Did the client sign the registration form? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="ClientSignedRegistrationFormYesNoLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category4Form.controls['ClientSignedRegistrationFormYesNoLookupId'].hasError('required') && category4Form.controls['ClientSignedRegistrationFormYesNoLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="PeaceMakerId">Occupation *</label>
                                    <ng-select [options]="occupationOptionsList" placeholder="Select" formControlName="OccupationLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category4Form.controls['OccupationLookupId'].hasError('required') && category4Form.controls['OccupationLookupId'].touched" class="mat-text-warn">Occupation is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="PeaceMakerId">If self-employed or employed, please specify:</label>
                                    <input [formControl]="category4Form.controls['OccupationDesc']" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="PeaceMakerId">Year of marriage *</label>
                                    <input [formControl]="category4Form.controls['YearOfMarriage']" inputmode="numeric" maxlength="4" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Household income *</label>
                                    <ng-select [options]="incomeLookupOptionsList" placeholder="Select" formControlName="HouseHoldIncomeLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category4Form.controls['HouseHoldIncomeLookupId'].hasError('required') && category4Form.controls['HouseHoldIncomeLookupId'].touched" class="mat-text-warn">Household Income is required.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Spouse
                            </div>
                            <div class="card-block primary-info-view">
                                <div class="form-group">
                                    <label for="PrimaryEmergencyContactName">Primary Emergency Contact Name *</label>
                                    <input [formControl]="category4Form.controls['PrimaryEmergencyContactName']" class="form-control" />
                                    <div>
                                        <small *ngIf="category4Form.controls['PrimaryEmergencyContactName'].hasError('required') && category4Form.controls['PrimaryEmergencyContactName'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Relationship to client *</label>
                                    <ng-select [options]="emergencyRelationshipOptionsList" placeholder="Select" formControlName="PrimaryEmergencyRelationshipToClientLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category4Form.controls['PrimaryEmergencyRelationshipToClientLookupId'].hasError('required') && category4Form.controls['PrimaryEmergencyRelationshipToClientLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Phone number *</label>
                                    <div class="form-group" [class.has-danger]="category4Form.controls['PrimaryEmergencyContactPhoneNumber'].invalid && category4Form.controls['PrimaryEmergencyContactPhoneNumber'].touched">
                                        <input [formControl]="category4Form.controls['PrimaryEmergencyContactPhoneNumber']" digits maxlength="14" class="form-control" />
                                        <div>
                                            <small *ngIf="category4Form.controls['PrimaryEmergencyContactPhoneNumber'].dirty && category4Form.controls['PrimaryEmergencyContactPhoneNumber'].invalid">Please provide a valid Phone number</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Physical Health
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Are you suffering from any major illness? *</label>
                                <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="SufferingFromAnyMajorIllnessLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['SufferingFromAnyMajorIllnessLookupId'].hasError('required') && category4Form.controls['SufferingFromAnyMajorIllnessLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">If yes, please specify:?</label>
                                <input [formControl]="category4Form.controls['SufferingFromAnyMajorIllnessDesc']" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Do you have any diagnosed psychiatric illness? *</label>
                                <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="DiagnosedPsychiatricIllnessLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['DiagnosedPsychiatricIllnessLookupId'].hasError('required') && category4Form.controls['DiagnosedPsychiatricIllnessLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">If yes, please specify:?</label>
                                <input [formControl]="category4Form.controls['DiagnosedPsychiatricIllnessDesc']" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Are you on any medication? *</label>
                                <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="AnyMedicationLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['AnyMedicationLookupId'].hasError('required') && category4Form.controls['AnyMedicationLookupId'].touched" class="mat-text-warn">Medication is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">If yes, what medication?</label>
                                <input [formControl]="category4Form.controls['AnyMedicationDesc']" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Are you on any substance? *</label>
                                <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="AnySubstanceLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['AnySubstanceLookupId'].hasError('required') && category4Form.controls['AnySubstanceLookupId'].touched" class="mat-text-warn">Substance is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Please specify:</label>
                                <input [formControl]="category4Form.controls['AnySubstanceDesc']" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Are you currently pregnant? *</label>
                                <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="CurrentlyPregnantLookup" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['CurrentlyPregnantLookup'].hasError('required') && category4Form.controls['CurrentlyPregnantLookup'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">If yes, give details:</label>
                                <input [formControl]="category4Form.controls['CurrentlyPregnantDesc']" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label for="CenterId">What is the reason for seeking help? *</label>
                                <ss-multiselect-dropdown [options]="reasonForSeekingHelpLookupOptionsList" formControlName="ReasonForSeekingHelpLookupId" [(ngModel)]="caseBook.PhysicalHealth.ReasonForSeekingHelpLookupArray">
                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['ReasonForSeekingHelpLookupId'].hasError('required') && category4Form.controls['ReasonForSeekingHelpLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">If other, please specify</label>
                                <input [formControl]="category4Form.controls['ReasonForSeekingHelpDesc']" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Who is abusing you? *</label>
                                <ss-multiselect-dropdown [options]="whoIsAbusingYouLookupOptionsList" formControlName="WhoIsAbusingYouLookupId" [(ngModel)]="caseBook.PhysicalHealth.WhoIsAbusingYouLookupArray">
                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['WhoIsAbusingYouLookupId'].hasError('required') && category4Form.controls['WhoIsAbusingYouLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">If others, please specify </label>
                                <input [formControl]="category4Form.controls['WhoIsAbusingYouDesc']" class="form-control" />
                            </div>

                        </div>
                    </div>

                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Abuse
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Do you think you are suffering from abuse? *</label>
                                <ng-select [options]="sufferingFromAbuseLookupIdLookupOptionsList" placeholder="Select" formControlName="SufferingFromAbuseLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['SufferingFromAbuseLookupId'].hasError('required') && category4Form.controls['SufferingFromAbuseLookupId'].touched" class="mat-text-warn">Case Status is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">If no, please specify</label>
                                <input [formControl]="category4Form.controls['SufferingFromAbuseDesc']" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label for="CenterId">If yes, how do you feel about the abuse? *</label>
                                <ss-multiselect-dropdown [options]="feelAboutAbuseLookupOptionsList" formControlName="FeelAboutAbuseLookupId" [(ngModel)]="caseBook.Abuse.FeelAboutAbuseLookupArray">

                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['FeelAboutAbuseLookupId'].hasError('required') && category4Form.controls['FeelAboutAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">How do your parents feel about the abuse? *</label>
                                <ss-multiselect-dropdown [options]="farentsFeelAboutAbuseLookupOptionsList" formControlName="ParentsFeelAboutAbuseLookupId" [(ngModel)]="caseBook.Abuse.ParentsFeelAboutAbuseLookupArray">

                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['ParentsFeelAboutAbuseLookupId'].hasError('required') && category4Form.controls['ParentsFeelAboutAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">How do your in laws feel about the abuse? *</label>
                                <ss-multiselect-dropdown [options]="lawFeelAboutAbuseLookupOptionsList" formControlName="LawFeelAboutAbuseLookupId" [(ngModel)]="caseBook.Abuse.LawFeelAboutAbuseLookupArray">

                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['LawFeelAboutAbuseLookupId'].hasError('required') && category4Form.controls['LawFeelAboutAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Are there any signs of physical abuse? *</label>
                                <ng-select [options]="signsOfPhysicalAbuseLookupOptionsList" placeholder="Select" formControlName="SignsOfPhysicalAbuseLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['SignsOfPhysicalAbuseLookupId'].hasError('required') && category4Form.controls['SignsOfPhysicalAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Please specify</label>
                                <input [formControl]="category4Form.controls['SignsOfPhysicalAbuseDesc']" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Types of physical abuse - tick all applicable situations *</label>
                                <ss-multiselect-dropdown [options]="typesOfPhyscialAbuseLookupOptionsList" formControlName="TypesOfPhyscialAbuseLookupId" [(ngModel)]="caseBook.Abuse.TypesOfPhyscialAbuseLookupArray">

                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['TypesOfPhyscialAbuseLookupId'].hasError('required') && category4Form.controls['TypesOfPhyscialAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Frequency of physical abuse *</label>
                                <ng-select [options]="frequencyOfPhyscialAbuseLookupOptionsList" placeholder="Select" formControlName="FrequencyOfPhyscialAbuseLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['FrequencyOfPhyscialAbuseLookupId'].hasError('required') && category4Form.controls['FrequencyOfPhyscialAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Number of years physical abuse has been occuring *</label>
                                <div class="form-group" [class.has-danger]="category4Form.controls['NumberOfYearsOfPhyscialAbuse'].invalid && category4Form.controls['NumberOfYearsOfPhyscialAbuse'].touched">
                                    <input type="number" id="NumberOfYearsOfPhyscialAbuse" [formControl]="category4Form.controls['NumberOfYearsOfPhyscialAbuse']" class="form-control" />
                                    <small *ngIf="category4Form.controls['NumberOfYearsOfPhyscialAbuse'].touched && category4Form.controls['NumberOfYearsOfPhyscialAbuse'].invalid">
                                        Value should be between 0 and 99
                                    </small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Types of emotional abuse - tick all applicable situations *</label>
                                <ss-multiselect-dropdown [options]="typesOfEmotionalAbuseLookupOptionsList" formControlName="TypesOfEmotionalAbuseLookupId" [(ngModel)]="caseBook.Abuse.TypesOfEmotionalAbuseLookupArray">

                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['TypesOfEmotionalAbuseLookupId'].hasError('required') && category4Form.controls['TypesOfEmotionalAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Frequency of emotional abuse *</label>
                                <ng-select [options]="frequencyOfEmotionalAbuseLookupOptionsList" placeholder="Select" formControlName="FrequencyOfEmotionalAbuseLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['FrequencyOfEmotionalAbuseLookupId'].hasError('required') && category4Form.controls['FrequencyOfEmotionalAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Number of years emotional abuse has been occurring *</label>
                                <div class="form-group" [class.has-danger]="category4Form.controls['NumberOfYearsOfEmotionalAbuse'].invalid && category4Form.controls['NumberOfYearsOfEmotionalAbuse'].touched">
                                    <input type="number" id="NumberOfYearsOfEmotionalAbuse" [formControl]="category4Form.controls['NumberOfYearsOfEmotionalAbuse']" class="form-control" />
                                    <small *ngIf="category4Form.controls['NumberOfYearsOfEmotionalAbuse'].touched && category4Form.controls['NumberOfYearsOfEmotionalAbuse'].invalid">
                                        Value should be between 0 and 99
                                    </small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Types of sexual abuse - tick all applicable situations *</label>
                                <ss-multiselect-dropdown [options]="typesOfSexualAbuseLookupOptionsList" formControlName="TypesOfSexualAbuseLookupId" [(ngModel)]="caseBook.Abuse.TypesOfSexualAbuseLookupArray">

                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['TypesOfSexualAbuseLookupId'].hasError('required') && category4Form.controls['TypesOfSexualAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Frequency of sexual abuse *</label>
                                <ng-select [options]="frequencyOfSexualAbuseLookupOptionsList" placeholder="Select" formControlName="FrequencyOfSexualAbuseLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['FrequencyOfSexualAbuseLookupId'].hasError('required') && category4Form.controls['FrequencyOfSexualAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Number of years sexual abuse has been occurring *</label>
                                <div class="form-group" [class.has-danger]="category4Form.controls['NumberOfYearsOfSexualAbuse'].invalid && category4Form.controls['NumberOfYearsOfSexualAbuse'].touched">
                                    <input type="number" id="NumberOfYearsOfSexualAbuse" [formControl]="category4Form.controls['NumberOfYearsOfSexualAbuse']" class="form-control" />
                                    <small *ngIf="category4Form.controls['NumberOfYearsOfSexualAbuse'].touched && category4Form.controls['NumberOfYearsOfSexualAbuse'].invalid">
                                        Value should be between 0 and 99
                                    </small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Types of economic abuse - tick all applicable situations *</label>
                                <ss-multiselect-dropdown [options]="typesOfEconomicAbuseLookupOptionsList" formControlName="TypesOfEconomicAbuseLookupId" [(ngModel)]="caseBook.Abuse.TypesOfEconomicAbuseLookupArray">

                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['TypesOfEconomicAbuseLookupId'].hasError('required') && category4Form.controls['TypesOfEconomicAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Frequency of economic abuse *</label>
                                <ng-select [options]="frequencyOfEconomicAbuseLookupOptionsList" placeholder="Select" formControlName="FrequencyOfEconomicAbuseLookupId" [allowClear]="true">
                                </ng-select>
                                <div>
                                    <small *ngIf="category4Form.controls['FrequencyOfEconomicAbuseLookupId'].hasError('required') && category4Form.controls['FrequencyOfEconomicAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Number of years economic abuse has been occurring *</label>
                                <div class="form-group" [class.has-danger]="category4Form.controls['NumberOfYearsOfEconomicAbuse'].invalid && category4Form.controls['NumberOfYearsOfEconomicAbuse'].touched">
                                    <input type="number" id="NumberOfYearsOfEconomicAbuse" [formControl]="category4Form.controls['NumberOfYearsOfEconomicAbuse']" class="form-control" />
                                    <small *ngIf="category4Form.controls['NumberOfYearsOfEconomicAbuse'].touched && category4Form.controls['NumberOfYearsOfEconomicAbuse'].invalid">
                                        Value should be between 0 and 99
                                    </small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">Reasons for abuse from abuser side *</label>
                                <ss-multiselect-dropdown [options]="reasonsForAbuseLookupOptionsList" formControlName="ReasonsForAbuseLookupId" [(ngModel)]="caseBook.Abuse.ReasonsForAbuseLookupArray">

                                </ss-multiselect-dropdown>
                                <div>
                                    <small *ngIf="category4Form.controls['ReasonsForAbuseLookupId'].hasError('required') && category4Form.controls['ReasonsForAbuseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="CenterId">If other, please specify</label>
                                <input [formControl]="category4Form.controls['ReasonForAbuseDesc']" class="form-control" />
                            </div>

                        </div>
                    </div>

                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Case Management
                            </div>
                            <div class="card-block primary-info-view">

                                <div class="form-group">
                                    <label for="CaseSubject">Subject *</label>
                                    <input [formControl]="category4Form.controls['CaseSubject']" class="form-control" maxlength="2000" />
                                    <div>
                                        <small *ngIf="category4Form.controls['CaseSubject'].hasError('required') && category4Form.controls['CaseSubject'].touched" class="mat-text-warn">Case Status is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CaseDescription">Description *</label>
                                    <textarea [formControl]="category4Form.controls['CaseDescription']" class="form-control" maxlength="2000"></textarea>
                                    <div>
                                        <small *ngIf="category4Form.controls['CaseDescription'].hasError('required') && category4Form.controls['CaseDescription'].touched" class="mat-text-warn">Case Status is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Source of case *</label>
                                    <ng-select [options]="sourceOfCaseLookupOptionList" placeholder="Select" formControlName="SourceOfCaseLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category4Form.controls['SourceOfCaseLookupId'].hasError('required') && category4Form.controls['SourceOfCaseLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="PeaceMakerId">If other, please specify</label>
                                    <input [formControl]="category4Form.controls['SourceOfCaseDesc']" class="form-control" maxlength="2000" />
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Type of counseling *</label>
                                    <ss-multiselect-dropdown [options]="typesOfCounselingLookupOptionList" formControlName="TypesOfCounselingLookupId" [(ngModel)]="caseBook.Manage.TypesOfCounselingLookupArray">
                                    </ss-multiselect-dropdown>
                                    <div>
                                        <small *ngIf="category4Form.controls['TypesOfCounselingLookupId'].hasError('required') && category4Form.controls['TypesOfCounselingLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="form-group" [class.has-danger]="category4Form.controls['TotalNoOfSessionsLookupId'].invalid && category4Form.controls['TotalNoOfSessionsLookupId'].touched">
                                        <label for="CenterId">Total no of sessions *</label>
                                        <input type="number" id="TotalNoOfSessionsLookupId" [formControl]="category4Form.controls['TotalNoOfSessionsLookupId']" class="form-control" />
                                        <small *ngIf="category4Form.controls['TotalNoOfSessionsLookupId'].touched && category4Form.controls['TotalNoOfSessionsLookupId'].invalid">
                                            Value should be between 0 and 99
                                        </small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="form-group" [class.has-danger]="category4Form.controls['TotalHoursSpentLookupId'].invalid && category4Form.controls['TotalHoursSpentLookupId'].touched">
                                        <label for="CenterId">Total hours spent *</label>
                                        <input type="number" id="TotalHoursSpentLookupId" [formControl]="category4Form.controls['TotalHoursSpentLookupId']" class="form-control" />
                                        <small *ngIf="category4Form.controls['TotalHoursSpentLookupId'].touched && category4Form.controls['TotalHoursSpentLookupId'].invalid">
                                            Value should be between 0 and 99
                                        </small>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group text-center">
                <button class="btn btn-primary" [disabled]="!category4Form.valid || !mainForm.valid" (click)="updateCategory4()">Update</button>
            </div>
        </form>

        <form [formGroup]="category5Form" *ngIf="isCategory5">
            <div class="centered">
                <div class="row">

                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Legal Data
                            </div>
                            <div class="card-block">
                                <div class="form-group">
                                    <label for="PeaceMakerId">Case Number as per court *</label>
                                    <input [formControl]="category5Form.controls['CaseNumber']" class="form-control" />
                                    <div>
                                        <small *ngIf="category5Form.controls['CaseNumber'].hasError('required') && category5Form.controls['CaseNumber'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="PeaceMakerId">Court *</label>
                                    <input [formControl]="category5Form.controls['Court']" class="form-control" />
                                    <div>
                                        <small *ngIf="category5Form.controls['Court'].hasError('required') && category5Form.controls['Court'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="PeaceMakerId">Prayer *</label>
                                    <input [formControl]="category5Form.controls['Prayer']" class="form-control" />
                                    <div>
                                        <small *ngIf="category5Form.controls['Prayer'].hasError('required') && category5Form.controls['Prayer'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="PeaceMakerId">Name of legal representative *</label>
                                    <input [formControl]="category5Form.controls['LegalRepresentative']" class="form-control" />
                                    <div>
                                        <small *ngIf="category5Form.controls['LegalRepresentative'].hasError('required') && category5Form.controls['LegalRepresentative'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Has the legal consent form been signed and submitted? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="LegalConsentFormLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category5Form.controls['LegalConsentFormLookupId'].hasError('required') && category5Form.controls['LegalConsentFormLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">Has any legal action been taken by the client in this regard prior to approaching OPM for help? *</label>
                                    <ng-select [options]="yesNoOptionsList" placeholder="Select" formControlName="LegalActionLookupId" [allowClear]="true">
                                    </ng-select>
                                    <div>
                                        <small *ngIf="category5Form.controls['LegalActionLookupId'].hasError('required') && category5Form.controls['LegalActionLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12 d-flex flex-column">
                        <div class="card">
                            <div class="card-header">
                                Outcome
                            </div>
                            <div class="card-block">
                                <div class="form-group">
                                    <label for="CenterId">Outcome *</label>
                                    <ss-multiselect-dropdown [options]="outcomeLookupOptionList" formControlName="OutcomeLookupId" [(ngModel)]="caseBook.Legal.OutcomeLookupArray">
                                    </ss-multiselect-dropdown>
                                    <div>
                                        <small *ngIf="category5Form.controls['OutcomeLookupId'].hasError('required') && category5Form.controls['OutcomeLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="CenterId">List all documents that the client has submitted</label>
                                    <ss-multiselect-dropdown [options]="documentsLookupOptionList" formControlName="DocumentsLookupId" [(ngModel)]="caseBook.Legal.DocumentsLookupArray">
                                    </ss-multiselect-dropdown>
                                    <div>
                                        <small *ngIf="category5Form.controls['DocumentsLookupId'].hasError('required') && category5Form.controls['DocumentsLookupId'].touched" class="mat-text-warn">Field is required.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group text-center">
                <button class="btn btn-primary" [disabled]="!category5Form.valid || !mainForm.valid" (click)="updateCategory5()">Update</button>
            </div>
        </form>

    </div>
</div>